# 直接插入排序

---

基本思想：

（1）就是将待排序记录分为有序区和无序区，初始的有序区仅只有开始的第一个，无序区包含所有剩余的排序记录。

（2）将无序区的第一个记录插入到有序区的合适位置，从而使得无序区减少一个记录。有序区增加一个记录。

（3）重复执行（2）步骤，直到无序区中的元素为0结束。

![](/assets/插入排序.png)

主要是两层循环，外层控制的是无序区的移动，内层循环控制的是无序区的第一个与有序区内数据的比较。

```
public void insertSort(int[] a){
//外层控制无序区的移动
    for(int i = 1;i<a.length;i++){
    //将无序区的第一个作为待比较的辅助空间
        int flag = a[i];
        int j;
        //内层循环控制要将待排序记录插入到有序区合适的位置。也就是插空法
        for(j = i-1;j>=0&&flag<a[j-1];j--){
            a[j+1] = a[j];
        }
        a[j+1] = flag;
    }
}
```

在最好的情况下，待排序记录是正序，每趟只需要与有序序列的最后一个记录的关键码比较次，移动两次记录。这时候的时间复杂度是O\(n\)

在最坏的情况下是逆序，在第i趟插入时，第i个记录必须与前面i-1个记录的关键码以及哨兵作比较，且每一次比较都会移动记录，所以比较次数为（n+2）\*\(n-1\)/2。时间复杂度为O\(n^2\)

所以平均情况下，时间复杂度为O\(n^2\)

直接插入排序只需要一个记录的辅助空间。

直接插入排序是一种稳定的排序方法。

直接插入排序的优点是，在记录较少或基本有序的时候，是最佳的排序方式。算法简单容易实现。但是当记录很多的时候需要大量的比较和移动，使得算法效率降低。

